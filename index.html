<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AluSmart Pro System</title>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --sidebar-bg: #1a252f; --sidebar-text: #ecf0f1; --primary: #3498db; --bg: #f4f7f6; }
        body { font-family: 'Sarabun', sans-serif; margin: 0; display: flex; height: 100vh; background-color: var(--bg); overflow: hidden; }

        /* --- SIDEBAR (‡πÄ‡∏°‡∏ô‡∏π‡∏ã‡πâ‡∏≤‡∏¢) --- */
        .sidebar { width: 240px; background-color: var(--sidebar-bg); color: var(--sidebar-text); display: flex; flex-direction: column; padding: 20px 0; box-shadow: 2px 0 5px rgba(0,0,0,0.1); }
        .brand { font-size: 20px; font-weight: bold; text-align: center; margin-bottom: 40px; letter-spacing: 1px; }
        .menu-item { padding: 15px 25px; cursor: pointer; transition: 0.3s; border-left: 4px solid transparent; display: flex; align-items: center; gap: 10px; }
        .menu-item:hover { background-color: #2c3e50; }
        .menu-item.active { background-color: #2c3e50; border-left-color: var(--primary); color: var(--primary); font-weight: bold; }
        
        /* --- MAIN CONTENT (‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤) --- */
        .main-content { flex: 1; padding: 30px; overflow-y: auto; position: relative; }
        
        /* Page Management (‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏°‡∏µ class active) */
        .page-section { display: none; animation: fadeIn 0.3s; }
        .page-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- STYLES FOR DASHBOARD --- */
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .stat-num { font-size: 28px; font-weight: bold; color: var(--primary); }
        .project-table { width: 100%; background: white; border-radius: 8px; overflow: hidden; border-collapse: collapse; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .project-table th, .project-table td { padding: 15px; text-align: left; border-bottom: 1px solid #eee; }
        .status-badge { padding: 4px 10px; border-radius: 20px; font-size: 12px; background: #eee; }
        .status-new { background: #e1f5fe; color: #0288d1; }

        /* --- STYLES FOR EDITOR & REPORTS (‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏°) --- */
        .editor-layout { display: grid; grid-template-columns: 300px 1fr; gap: 20px; }
        .control-panel { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .paper-preview { background: white; padding: 40px; min-height: 600px; box-shadow: 0 0 15px rgba(0,0,0,0.1); }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; font-size: 13px; color: #666; margin-bottom: 5px; }
        .form-group input { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        .btn-primary { width: 100%; padding: 12px; background: var(--primary); color: white; border: none; border-radius: 4px; cursor: pointer; }
        
        /* Table Styles */
        table.report-table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 13px; }
        table.report-table th { background: #f8f9fa; padding: 10px; text-align: left; border-bottom: 2px solid #ddd; }
        table.report-table td { padding: 10px; border-bottom: 1px solid #eee; }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="brand">TestBOQ</div>
        <div class="menu-item active" onclick="navTo('dashboard')">üìä ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î (Home)</div>
        <div class="menu-item" onclick="navTo('editor')">‚úèÔ∏è ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö/‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</div>
        <div class="menu-item" onclick="navTo('reports')">üìÑ ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô (Reports)</div>
        <div class="menu-item" onclick="alert('‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô Demo')">‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö</div>
    </div>

    <div class="main-content">
        
        <div id="dashboard" class="page-section active">
            <h2>‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ (Dashboard)</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div>‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                    <div class="stat-num">12</div>
                </div>
                <div class="stat-card">
                    <div>‡∏£‡∏≠‡∏ú‡∏•‡∏¥‡∏ï</div>
                    <div class="stat-num" style="color:orange">3</div>
                </div>
                <div class="stat-card">
                    <div>‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</div>
                    <div class="stat-num" style="color:green">‡∏ø145,000</div>
                </div>
            </div>

            <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
            <table class="project-table">
                <thead>
                    <tr><th>Job ID</th><th>‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</th><th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th><th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th><th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th></tr>
                </thead>
                <tbody>
                    <tr>
                        <td>#67-088</td>
                        <td>‡∏û‡∏µ‡πà‡πÄ‡∏ô‡∏µ‡πâ‡∏¢‡∏ö (‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å)</td>
                        <td>22/11/2025</td>
                        <td><span class="status-badge status-new">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö</span></td>
                        <td><button onclick="navTo('editor')">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button></td>
                    </tr>
                    <tr>
                        <td>#67-087</td>
                        <td>‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü Cafe Amazon</td>
                        <td>20/11/2025</td>
                        <td><span class="status-badge" style="background:#fff3cd; color:#856404">‡∏£‡∏≠‡∏ú‡∏•‡∏¥‡∏ï</span></td>
                        <td><button onclick="navTo('reports')">‡∏î‡∏π‡πÅ‡∏ö‡∏ö</button></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div id="editor" class="page-section">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                <h2>‚úèÔ∏è ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏á‡∏≤‡∏ô: #67-088 (‡∏û‡∏µ‡πà‡πÄ‡∏ô‡∏µ‡πâ‡∏¢‡∏ö)</h2>
                <button onclick="calculateAndGoReport()" style="padding:10px 20px; background:green; color:white; border:none; border-radius:4px; cursor:pointer;">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ></button>
            </div>

            <div class="editor-layout">
                <div class="control-panel">
                    <h3>‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏ô‡∏≤‡∏î (Input)</h3>
                    <div class="form-group">
                        <label>‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö</label>
                        <select style="width:100%; padding:8px;">
                            <option>‡∏ö‡∏≤‡∏ô‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏™‡∏•‡∏±‡∏ö 2 ‡∏ö‡∏≤‡∏ô + ‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏á‡∏ö‡∏ô</option>
                        </select>
                    </div>
                    <div class="form-group"><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á (W) - ‡∏°‡∏°.</label><input type="number" id="inputW" value="1500"></div>
                    <div class="form-group"><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏£‡∏ß‡∏° (H) - ‡∏°‡∏°.</label><input type="number" id="inputH" value="1200"></div>
                    <div class="form-group"><label>‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏á‡∏ö‡∏ô (H1) - ‡∏°‡∏°.</label><input type="number" id="inputH1" value="400"></div>
                    <button class="btn-primary" onclick="previewDrawing()">üîÑ ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏†‡∏≤‡∏û‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</button>
                </div>

                <div class="paper-preview" style="display:flex; align-items:center; justify-content:center; flex-direction:column;">
                    <h3>‡∏†‡∏≤‡∏û‡∏à‡∏≥‡∏•‡∏≠‡∏á (Preview)</h3>
                    <svg width="300" height="350" style="border:1px dashed #ccc; background:#fdfdfd;">
                        <rect x="50" y="20" width="200" height="300" stroke="#333" fill="none" stroke-width="2"/>
                        <line x1="50" y1="100" x2="250" y2="100" stroke="#333" stroke-width="2"/> <text x="150" y="60" font-size="12" text-anchor="middle" fill="#888">‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏á (H1)</text>
                        <text x="150" y="200" font-size="12" text-anchor="middle" fill="#888">‡∏ö‡∏≤‡∏ô‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô (H2)</text>
                        <text x="150" y="340" font-size="14" font-weight="bold" text-anchor="middle" fill="blue">W: <tspan id="dispW">1500</tspan></text>
                        <text x="20" y="170" font-size="14" font-weight="bold" text-anchor="middle" fill="blue" transform="rotate(-90, 20, 170)">H: <tspan id="dispH">1200</tspan></text>
                    </svg>
                    <p style="color:#666; font-size:12px; margin-top:10px;">*‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏†‡∏≤‡∏û‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô ‡∏Ç‡∏ô‡∏≤‡∏î‡∏à‡∏£‡∏¥‡∏á‡∏î‡∏π‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</p>
                </div>
            </div>
        </div>

        <div id="reports" class="page-section">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                <h2>üìÑ ‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ú‡∏•‡∏¥‡∏ï (Fabrication Order)</h2>
                <div>
                    <button onclick="navTo('editor')" style="padding:8px 15px; background:#eee; border:none; cursor:pointer;">&lt; ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                    <button onclick="window.print()" style="padding:8px 15px; background:#34495e; color:white; border:none; cursor:pointer;">üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</button>
                </div>
            </div>

            <div class="paper-preview" style="min-height:800px;">
                <div style="border-bottom:2px solid black; padding-bottom:20px; margin-bottom:20px;">
                    <h1 style="margin:0; font-size:24px;">‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ï‡∏±‡∏î‡∏≠‡∏•‡∏π‡∏°‡∏¥‡πÄ‡∏ô‡∏µ‡∏¢‡∏° / Cutting List</h1>
                    <p>Job: #67-088 | ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ‡∏û‡∏µ‡πà‡πÄ‡∏ô‡∏µ‡πâ‡∏¢‡∏ö</p>
                </div>

                <table class="report-table">
                    <thead>
                        <tr><th>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th><th>‡∏™‡∏π‡∏ï‡∏£</th><th>‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏î (‡∏°‡∏°.)</th><th>‡∏°‡∏∏‡∏°‡∏ï‡∏±‡∏î</th><th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th></tr>
                    </thead>
                    <tbody id="reportTableBody">
                        </tbody>
                </table>

                <div style="margin-top:30px; padding:15px; background:#eee; text-align:right;">
                    <h3>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏£‡∏ß‡∏°‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì: <span id="totalCostDisplay" style="color:red">0</span> ‡∏ö‡∏≤‡∏ó</h3>
                </div>
            </div>
        </div>

    </div>

<script>
    // --- 1. NAVIGATION LOGIC (‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤) ---
    function navTo(pageId) {
        // ‡∏ã‡πà‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤
        document.querySelectorAll('.page-section').forEach(page => {
            page.classList.remove('active');
        });
        // ‡∏õ‡∏¥‡∏î‡πÑ‡∏Æ‡πÑ‡∏•‡∏ó‡πå‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        document.querySelectorAll('.menu-item').forEach(item => {
            item.classList.remove('active');
        });

        // ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
        document.getElementById(pageId).classList.add('active');
        
        // ‡πÑ‡∏Æ‡πÑ‡∏•‡∏ó‡πå‡πÄ‡∏°‡∏ô‡∏π (‡πÅ‡∏ö‡∏ö Manual ‡∏á‡πà‡∏≤‡∏¢‡πÜ)
        const menuIndex = {'dashboard':0, 'editor':1, 'reports':2};
        document.querySelectorAll('.menu-item')[menuIndex[pageId]].classList.add('active');
    }

    // --- 2. CALCULATION LOGIC (‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì) ---
    function previewDrawing() {
        // ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏°‡∏≤‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û Preview
        const w = document.getElementById('inputW').value;
        const h = document.getElementById('inputH').value;
        document.getElementById('dispW').innerText = w;
        document.getElementById('dispH').innerText = h;
    }

    function calculateAndGoReport() {
        // 1. ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ Input
        const W = parseFloat(document.getElementById('inputW').value);
        const H = parseFloat(document.getElementById('inputH').value);
        const H1 = parseFloat(document.getElementById('inputH1').value);

        // 2. ‡∏™‡∏π‡∏ï‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì (Mockup Logic)
        const cutList = [
            { name: "‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö 1.2 (‡πÄ‡∏ü‡∏£‡∏°‡∏Ç‡πâ‡∏≤‡∏á)", formula: "H", size: H, angle: "90¬∞", qty: 2 },
            { name: "‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö 1.2 (‡πÄ‡∏ü‡∏£‡∏°‡∏ö‡∏ô/‡∏•‡πà‡∏≤‡∏á)", formula: "W", size: W, angle: "90¬∞", qty: 2 },
            { name: "‡πÄ‡∏™‡∏≤‡πÅ‡∏ö‡πà‡∏á‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏á", formula: "W-50", size: W-50, angle: "90¬∞", qty: 1 },
            { name: "‡∏Å‡∏£‡∏≠‡∏ö‡∏ö‡∏≤‡∏ô‡∏Å‡∏£‡∏∞‡∏ó‡∏∏‡πâ‡∏á (‡∏ï‡∏±‡πâ‡∏á)", formula: "H-H1-50", size: H-H1-50, angle: "45¬∞", qty: 2 },
            { name: "‡∏Å‡∏£‡∏≠‡∏ö‡∏ö‡∏≤‡∏ô‡∏Å‡∏£‡∏∞‡∏ó‡∏∏‡πâ‡∏á (‡∏ô‡∏≠‡∏ô)", formula: "W-50", size: W-50, angle: "45¬∞", qty: 2 },
        ];

        // 3. ‡∏™‡∏£‡πâ‡∏≤‡∏á HTML ‡∏ï‡∏≤‡∏£‡∏≤‡∏á
        let html = "";
        let totalCost = 0;
        cutList.forEach(item => {
            let cost = (item.size / 1000) * 150 * item.qty; // ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡πÄ‡∏°‡∏ï‡∏£‡∏•‡∏∞ 150 ‡∏ö‡∏≤‡∏ó
            totalCost += cost;
            html += `
                <tr>
                    <td>${item.name}</td>
                    <td style="color:#888">${item.formula}</td>
                    <td style="font-weight:bold; font-size:16px;">${item.size.toFixed(1)}</td>
                    <td><span style="background:#eee; padding:2px 5px; border-radius:3px;">${item.angle}</span></td>
                    <td>${item.qty}</td>
                </tr>
            `;
        });

        // 4. ‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Reports
        document.getElementById('reportTableBody').innerHTML = html;
        document.getElementById('totalCostDisplay').innerText = Math.round(totalCost).toLocaleString();

        // 5. ‡∏™‡∏±‡πà‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤
        navTo('reports');
    }
</script>

</body>
</html>
